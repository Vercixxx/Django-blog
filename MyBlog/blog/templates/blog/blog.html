{% extends 'blog/base.html' %}
{% load static %}



{% block content %}




<div class="container">
<header class="border-bottom lh-1 py-3">
<div class="row flex-nowrap justify-content-between align-items-center">

  <div class="col-1 text-center">
    <a class="blog-header-logo text-body-emphasis text-decoration-none" href="#">Blog</a>
  </div>
  <div class="col-4 d-flex justify-content-end align-items-center">


<!-- Log in button / log out button-->
{% csrf_token %}
    {% if user.is_authenticated %}

    <div class="row">
      <div class="col">
        <button class="btn btn-sm btn-outline-secondary fs-6 mx-2" onclick="window.location.href = '{% url 'user_account' %}'">
          {{user.username }}
        </button> 
      </div>
    </div>
    
    <button type="button" class="btn btn-sm btn-outline-secondary fs-6 mx-2" onclick="window.location.href = '{% url 'logout_user' %}'">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-door-open" viewBox="0 0 16 16">
        <path d="M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"/>
        <path d="M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117zM11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5zM4 1.934V15h6V1.077l-6 .857z"/>
      </svg>
      Log out
    </button>

    {% else %}

    <button type="button" class="btn btn-sm btn-outline-primary fs-6" onclick="window.location.href = '{% url 'login_view' %}'">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"/>
        <path fill-rule="evenodd" d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
      </svg>
      Sign up
    </button>

    {% endif %}





  </div>
</div>
</header>





<div class="nav-scroller py-1 mb-3 border-bottom">
<nav class="nav nav-underline justify-content-between">
  <a class="nav-item nav-link link-body-emphasis active" href="#">Site1</a>
  <a class="nav-item nav-link link-body-emphasis" href="#">Site2</a>
  <a class="nav-item nav-link link-body-emphasis" href="#">Site3</a>
  <a class="nav-item nav-link link-body-emphasis" href="#">Site4</a>

</nav>
</div>
</div>



<main class="container">
  
        
  {% if messages %}
  {% for message in messages %}

  <div class="alert alert-{{ message.tags }} alert-dismissible fade show " role="alert">
    <strong>Register system</strong> 
    <div>
                {{ message }}
    </div>

    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% endfor %}
  {% endif %}

  <div class="p-4 p-md-5 mb-4 rounded text-body-emphasis bg-body-secondary" 
  style="background-image: url('{% static "images/mountains.jpg" %}'); background-size: cover; background-position: center; filter: brightness(70%);">

    <h1 class="display-4 fst-italic">― Madonna</h1>
    <p class="lead my-3">“No matter who you are, no matter what you did, no matter where you've come from, you can always change, become a better version of yourself.”</p>

  </div>


  </div>



  <!-- Posts section -->
  <div class="container">
    <div class="row">
      <div class="col">
        
        <!-- Articles -->
        {% for post in posts %}
        <article class="blog-post">
          <a class="link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover" href="{% url 'post_view' post.id %}"> 
            <h2 class="display-6 link-body-emphasis mb-1">
              {{ post.title }}
            </h2>
          </a>
          
          <p class="blog-post-meta"> {{  post.posted_date|date:"F d, Y" }} 
          - Added by 
              {{ post.author }}
          </p>
    
          <hr>
    
          <p>
            {{ post.content }}
          </p>
        </article>
        {% endfor %}
    
      </div>


      <!-- Legend of posts -->
      <div class="col-4">
        <div class="container">
          <div class="container text-center d-flex justify-content-center align-items-center ">
            <!-- Title -->
            <p class="blog-header-logo text-body-emphasis text-decoration-none">
              Legend
            </p>
          </div>


          <ul>
            <!-- List of posts titles -->
            {% for post in posts %}
              <button type="button" class="btn btn-dark text-start" onclick="window.location.href = '{% url 'post_view' post.id %}'">>

                    {{ post.title }}

                    <p>{{  post.posted_date|date:"F d, Y" }}</p>

              </button>
            {% endfor %}

          </ul>
        </div>
      </div>
    </div>
 

    
</div>




  </main>

{% endblock %}